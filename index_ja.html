<!DOCTYPE html>
<html lang="ja">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-SJ5CP8DCH9"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'G-SJ5CP8DCH9');
        </script>
        <!-- Standard Meta -->
        <meta charset="utf-8" />
        <meta name="author" content="Vito Van, Ikko Eltociear Ashimine"/>
        <meta name="theme-color" content="#005797">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
        <link href=favicon.ico rel=icon type=image/x-icon>
        <style>
body{
    background-color: #005896;
    display: flex;
    justify-content: center;
    font-family: Optima, Palatino, 'Palatino Linotype', Charter, 'Bitstream Charter', serif;
    color: #000;
    font-size: 12pt;
    clear: both;
    padding: 0;
    margin: 0;
}
*{
    margin: 0;
    padding: 0;
}
.giscus {
    margin-top: 40px;
}
.container{
    float: left;
    width: 840px;
    padding: 20px;
}
.container > .menu > ul {
    list-style: none;
}
.container > .menu > ul > li {
    display: inline-block;
    margin: 0px 10px 5px 0px;
    padding: 0px 10px 5px 0px;
}
.container > .menu > ul > li > a{
    color: white;
}

.container img{
  border-radius: 4px;
  vertical-align: middle;
}
.panel{
    float: left;
    padding: 2em 0.9em;
    line-height: 1.2em;
    min-height: 20em;
    margin-right: 1em;
    border-right-color: blue;
    border-right-style: dashed;
    border-right-width: 0.1em;
}
.panel>ul{
    list-style:none;
}
.panel a{
    text-decoration: none;
    color: blue;
    display: block;
}
.panel>ul>li{
    margin-bottom: 0.9em;
}
.panel>ul>li.current>a{
    text-decoration: underline;
}
.panel a:hover{
    text-decoration: underline;
}
@media (max-width: 840px) {
    body {
      display: block;
    }
    .panel {
        padding: 0.9em 0.2em;
        min-height: 1em;
        width: 95%;
        border-right: none;
        border-bottom-color: blue;
        border-bottom-style: dashed;
        border-bottom-width: 0.1em;
    }
    .panel>ul>li {
        float: left;
        margin: 0 0.8em;
    }
    .container {
        width: 96%;
        padding: 2%;
    }
    .markdown-body{
        min-width: inherit !important;
        border-radius: 0 !important;
    }
    .giscus {
        padding: 1%;
        width: 98%;
    }
}
.head{
    padding: 1em;
    text-transform: uppercase;
}
.head>h1>a{
    color: #888;
    text-decoration: none;
}
.content{
    padding:0 1em;
    font-size: 1em;
    line-height: 1.5em;
}
.index>a{
    display: block;
    line-height: 2em;
}
.index>li{
    margin: 0.5em 0;
    list-style-type: circle;
}
.index>li.shit{
  display: none;
}
.index>li.shit>a{
  opacity: .4;
  color: black;
}
.index>li.shit>a:visited{
  color: gray;
}
.markdown-body{
    background-color: white;
    padding: 1em;
    border-radius: 0.3em;
}

/* https://github.com/sindresorhus/github-markdown-css/blob/17cbdb0b87afa3dc75aa2e8d76f2b0880984c6c8/github-markdown.css */      
/* github-markdown.css start */

.markdown-body {
  --base-size-4: 0.25rem;
  --base-size-8: 0.5rem;
  --base-size-16: 1rem;
  --base-text-weight-normal: 400;
  --base-text-weight-medium: 500;
  --base-text-weight-semibold: 600;
  --fontStack-monospace: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
}

@media (prefers-color-scheme: dark) {
  .markdown-body,
  [data-theme="dark"] {
    /*dark*/
    color-scheme: dark;
    --focus-outlineColor: #1f6feb;
    --fgColor-default: #e6edf3;
    --fgColor-muted: #8d96a0;
    --fgColor-accent: #4493f8;
    --fgColor-success: #3fb950;
    --fgColor-attention: #d29922;
    --fgColor-danger: #f85149;
    --fgColor-done: #ab7df8;
    --bgColor-default: #0d1117;
    --bgColor-muted: #161b22;
    --bgColor-neutral-muted: #6e768166;
    --bgColor-attention-muted: #bb800926;
    --borderColor-default: #30363d;
    --borderColor-muted: #30363db3;
    --borderColor-neutral-muted: #6e768166;
    --borderColor-accent-emphasis: #1f6feb;
    --borderColor-success-emphasis: #238636;
    --borderColor-attention-emphasis: #9e6a03;
    --borderColor-danger-emphasis: #da3633;
    --borderColor-done-emphasis: #8957e5;
    --color-prettylights-syntax-comment: #8b949e;
    --color-prettylights-syntax-constant: #79c0ff;
    --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
    --color-prettylights-syntax-entity: #d2a8ff;
    --color-prettylights-syntax-storage-modifier-import: #c9d1d9;
    --color-prettylights-syntax-entity-tag: #7ee787;
    --color-prettylights-syntax-keyword: #ff7b72;
    --color-prettylights-syntax-string: #a5d6ff;
    --color-prettylights-syntax-variable: #ffa657;
    --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
    --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
    --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
    --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
    --color-prettylights-syntax-carriage-return-text: #f0f6fc;
    --color-prettylights-syntax-carriage-return-bg: #b62324;
    --color-prettylights-syntax-string-regexp: #7ee787;
    --color-prettylights-syntax-markup-list: #f2cc60;
    --color-prettylights-syntax-markup-heading: #1f6feb;
    --color-prettylights-syntax-markup-italic: #c9d1d9;
    --color-prettylights-syntax-markup-bold: #c9d1d9;
    --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
    --color-prettylights-syntax-markup-deleted-bg: #67060c;
    --color-prettylights-syntax-markup-inserted-text: #aff5b4;
    --color-prettylights-syntax-markup-inserted-bg: #033a16;
    --color-prettylights-syntax-markup-changed-text: #ffdfb6;
    --color-prettylights-syntax-markup-changed-bg: #5a1e02;
    --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
    --color-prettylights-syntax-markup-ignored-bg: #1158c7;
    --color-prettylights-syntax-meta-diff-range: #d2a8ff;
    --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
  }
}

@media (prefers-color-scheme: light) {
  .markdown-body,
  [data-theme="light"] {
    /*light*/
    color-scheme: light;
    --focus-outlineColor: #0969da;
    --fgColor-default: #1f2328;
    --fgColor-muted: #636c76;
    --fgColor-accent: #0969da;
    --fgColor-success: #1a7f37;
    --fgColor-attention: #9a6700;
    --fgColor-danger: #d1242f;
    --fgColor-done: #8250df;
    --bgColor-default: #ffffff;
    --bgColor-muted: #f6f8fa;
    --bgColor-neutral-muted: #afb8c133;
    --bgColor-attention-muted: #fff8c5;
    --borderColor-default: #d0d7de;
    --borderColor-muted: #d0d7deb3;
    --borderColor-neutral-muted: #afb8c133;
    --borderColor-accent-emphasis: #0969da;
    --borderColor-success-emphasis: #1a7f37;
    --borderColor-attention-emphasis: #bf8700;
    --borderColor-danger-emphasis: #cf222e;
    --borderColor-done-emphasis: #8250df;
    --color-prettylights-syntax-comment: #57606a;
    --color-prettylights-syntax-constant: #0550ae;
    --color-prettylights-syntax-constant-other-reference-link: #0a3069;
    --color-prettylights-syntax-entity: #6639ba;
    --color-prettylights-syntax-storage-modifier-import: #24292f;
    --color-prettylights-syntax-entity-tag: #0550ae;
    --color-prettylights-syntax-keyword: #cf222e;
    --color-prettylights-syntax-string: #0a3069;
    --color-prettylights-syntax-variable: #953800;
    --color-prettylights-syntax-brackethighlighter-unmatched: #82071e;
    --color-prettylights-syntax-brackethighlighter-angle: #57606a;
    --color-prettylights-syntax-invalid-illegal-text: #f6f8fa;
    --color-prettylights-syntax-invalid-illegal-bg: #82071e;
    --color-prettylights-syntax-carriage-return-text: #f6f8fa;
    --color-prettylights-syntax-carriage-return-bg: #cf222e;
    --color-prettylights-syntax-string-regexp: #116329;
    --color-prettylights-syntax-markup-list: #3b2300;
    --color-prettylights-syntax-markup-heading: #0550ae;
    --color-prettylights-syntax-markup-italic: #24292f;
    --color-prettylights-syntax-markup-bold: #24292f;
    --color-prettylights-syntax-markup-deleted-text: #82071e;
    --color-prettylights-syntax-markup-deleted-bg: #ffebe9;
    --color-prettylights-syntax-markup-inserted-text: #116329;
    --color-prettylights-syntax-markup-inserted-bg: #dafbe1;
    --color-prettylights-syntax-markup-changed-text: #953800;
    --color-prettylights-syntax-markup-changed-bg: #ffd8b5;
    --color-prettylights-syntax-markup-ignored-text: #eaeef2;
    --color-prettylights-syntax-markup-ignored-bg: #0550ae;
    --color-prettylights-syntax-meta-diff-range: #8250df;
    --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;
  }
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  margin: 0;
  color: var(--fgColor-default);
  background-color: var(--bgColor-default);
  font-family: Optima, Palatino, Charter, "Bitstream Charter", serif, -apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
  scroll-behavior: auto;
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body h1:hover .anchor .octicon-link:before,
.markdown-body h2:hover .anchor .octicon-link:before,
.markdown-body h3:hover .anchor .octicon-link:before,
.markdown-body h4:hover .anchor .octicon-link:before,
.markdown-body h5:hover .anchor .octicon-link:before,
.markdown-body h6:hover .anchor .octicon-link:before {
  width: 16px;
  height: 16px;
  content: ' ';
  display: inline-block;
  background-color: currentColor;
  -webkit-mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
  mask-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");
}

.markdown-body details,
.markdown-body figcaption,
.markdown-body figure {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body [hidden] {
  display: none !important;
}

.markdown-body a {
  background-color: transparent;
  color: var(--fgColor-accent);
  text-decoration: none;
}

.markdown-body abbr[title] {
  border-bottom: none;
  -webkit-text-decoration: underline dotted;
  text-decoration: underline dotted;
}

.markdown-body b,
.markdown-body strong {
  font-weight: var(--base-text-weight-semibold, 600);
}

.markdown-body dfn {
  font-style: italic;
}

.markdown-body h1 {
  margin: .67em 0;
  font-weight: var(--base-text-weight-semibold, 600);
  padding-bottom: .3em;
  font-size: 2em;
  border-bottom: 1px solid var(--borderColor-muted);
}

.markdown-body mark {
  background-color: var(--bgColor-attention-muted);
  color: var(--fgColor-default);
}

.markdown-body small {
  font-size: 90%;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body sup {
  top: -0.5em;
}

.markdown-body img {
  border-style: none;
  max-width: 100%;
  box-sizing: content-box;
  background-color: var(--bgColor-default);
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace;
  font-size: 1em;
}

.markdown-body figure {
  margin: 1em 40px;
}

.markdown-body hr {
  box-sizing: content-box;
  overflow: hidden;
  background: transparent;
  border-bottom: 1px solid var(--borderColor-muted);
  height: .25em;
  padding: 0;
  margin: 24px 0;
  background-color: var(--borderColor-default);
  border: 0;
}

.markdown-body input {
  font: inherit;
  margin: 0;
  overflow: visible;
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body [type=button],
.markdown-body [type=reset],
.markdown-body [type=submit] {
  -webkit-appearance: button;
  appearance: button;
}

.markdown-body [type=checkbox],
.markdown-body [type=radio] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body [type=number]::-webkit-inner-spin-button,
.markdown-body [type=number]::-webkit-outer-spin-button {
  height: auto;
}

.markdown-body [type=search]::-webkit-search-cancel-button,
.markdown-body [type=search]::-webkit-search-decoration {
  -webkit-appearance: none;
  appearance: none;
}

.markdown-body ::-webkit-input-placeholder {
  color: inherit;
  opacity: .54;
}

.markdown-body ::-webkit-file-upload-button {
  -webkit-appearance: button;
  appearance: button;
  font: inherit;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body ::placeholder {
  color: var(--fgColor-muted);
  opacity: 1;
}

.markdown-body hr::before {
  display: table;
  content: "";
}

.markdown-body hr::after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body table {
  border-spacing: 0;
  border-collapse: collapse;
  display: block;
  width: max-content;
  max-width: 100%;
  overflow: auto;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body details:not([open])>*:not(summary) {
  display: none;
}

.markdown-body a:focus,
.markdown-body [role=button]:focus,
.markdown-body input[type=radio]:focus,
.markdown-body input[type=checkbox]:focus {
  outline: 2px solid var(--focus-outlineColor);
  outline-offset: -2px;
  box-shadow: none;
}

.markdown-body a:focus:not(:focus-visible),
.markdown-body [role=button]:focus:not(:focus-visible),
.markdown-body input[type=radio]:focus:not(:focus-visible),
.markdown-body input[type=checkbox]:focus:not(:focus-visible) {
  outline: solid 1px transparent;
}

.markdown-body a:focus-visible,
.markdown-body [role=button]:focus-visible,
.markdown-body input[type=radio]:focus-visible,
.markdown-body input[type=checkbox]:focus-visible {
  outline: 2px solid var(--focus-outlineColor);
  outline-offset: -2px;
  box-shadow: none;
}

.markdown-body a:not([class]):focus,
.markdown-body a:not([class]):focus-visible,
.markdown-body input[type=radio]:focus,
.markdown-body input[type=radio]:focus-visible,
.markdown-body input[type=checkbox]:focus,
.markdown-body input[type=checkbox]:focus-visible {
  outline-offset: 0;
}

.markdown-body kbd {
  display: inline-block;
  padding: 3px 5px;
  font: 11px var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace);
  line-height: 10px;
  color: var(--fgColor-default);
  vertical-align: middle;
  background-color: var(--bgColor-muted);
  border: solid 1px var(--borderColor-neutral-muted);
  border-bottom-color: var(--borderColor-neutral-muted);
  border-radius: 6px;
  box-shadow: inset 0 -1px 0 var(--borderColor-neutral-muted);
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 24px;
  margin-bottom: 16px;
  font-weight: var(--base-text-weight-semibold, 600);
  line-height: 1.25;
}

.markdown-body h2 {
  font-weight: var(--base-text-weight-semibold, 600);
  padding-bottom: .3em;
  font-size: 1.5em;
  border-bottom: 1px solid var(--borderColor-muted);
}

.markdown-body h3 {
  font-weight: var(--base-text-weight-semibold, 600);
  font-size: 1.25em;
}

.markdown-body h4 {
  font-weight: var(--base-text-weight-semibold, 600);
  font-size: 1em;
}

.markdown-body h5 {
  font-weight: var(--base-text-weight-semibold, 600);
  font-size: .875em;
}

.markdown-body h6 {
  font-weight: var(--base-text-weight-semibold, 600);
  font-size: .85em;
  color: var(--fgColor-muted);
}

.markdown-body p {
  margin-top: 0;
  margin-bottom: 10px;
}

.markdown-body blockquote {
  margin: 0;
  padding: 0 1em;
  color: var(--fgColor-muted);
  border-left: .25em solid var(--borderColor-default);
}

.markdown-body ul,
.markdown-body ol {
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body tt,
.markdown-body code,
.markdown-body samp {
  font-family: var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace);
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
  font-family: var(--fontStack-monospace, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace);
  font-size: 12px;
  word-wrap: normal;
}

.markdown-body .octicon {
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-body input::-webkit-outer-spin-button,
.markdown-body input::-webkit-inner-spin-button {
  margin: 0;
  -webkit-appearance: none;
  appearance: none;
}

.markdown-body .mr-2 {
  margin-right: var(--base-size-8, 8px) !important;
}

.markdown-body::before {
  display: table;
  content: "";
}

.markdown-body::after {
  display: table;
  clear: both;
  content: "";
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body .absent {
  color: var(--fgColor-danger);
}

.markdown-body .anchor {
  float: left;
  padding-right: 4px;
  margin-left: -20px;
  line-height: 1;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body details {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: var(--fgColor-default);
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body h1 tt,
.markdown-body h1 code,
.markdown-body h2 tt,
.markdown-body h2 code,
.markdown-body h3 tt,
.markdown-body h3 code,
.markdown-body h4 tt,
.markdown-body h4 code,
.markdown-body h5 tt,
.markdown-body h5 code,
.markdown-body h6 tt,
.markdown-body h6 code {
  padding: 0 .2em;
  font-size: inherit;
}

.markdown-body summary h1,
.markdown-body summary h2,
.markdown-body summary h3,
.markdown-body summary h4,
.markdown-body summary h5,
.markdown-body summary h6 {
  display: inline-block;
}

.markdown-body summary h1 .anchor,
.markdown-body summary h2 .anchor,
.markdown-body summary h3 .anchor,
.markdown-body summary h4 .anchor,
.markdown-body summary h5 .anchor,
.markdown-body summary h6 .anchor {
  margin-left: -40px;
}

.markdown-body summary h1,
.markdown-body summary h2 {
  padding-bottom: 0;
  border-bottom: 0;
}

.markdown-body ul.no-list,
.markdown-body ol.no-list {
  padding: 0;
  list-style-type: none;
}

.markdown-body ol[type="a s"] {
  list-style-type: lower-alpha;
}

.markdown-body ol[type="A s"] {
  list-style-type: upper-alpha;
}

.markdown-body ol[type="i s"] {
  list-style-type: lower-roman;
}

.markdown-body ol[type="I s"] {
  list-style-type: upper-roman;
}

.markdown-body ol[type="1"] {
  list-style-type: decimal;
}

.markdown-body div>ol:not([type]) {
  list-style-type: decimal;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: var(--base-text-weight-semibold, 600);
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body table th {
  font-weight: var(--base-text-weight-semibold, 600);
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid var(--borderColor-default);
}

.markdown-body table td>:last-child {
  margin-bottom: 0;
}

.markdown-body table tr {
  background-color: var(--bgColor-default);
  border-top: 1px solid var(--borderColor-muted);
}

.markdown-body table tr:nth-child(2n) {
  background-color: var(--bgColor-muted);
}

.markdown-body table img {
  background-color: transparent;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body .emoji {
  max-width: none;
  vertical-align: text-top;
  background-color: transparent;
}

.markdown-body span.frame {
  display: block;
  overflow: hidden;
}

.markdown-body span.frame>span {
  display: block;
  float: left;
  width: auto;
  padding: 7px;
  margin: 13px 0 0;
  overflow: hidden;
  border: 1px solid var(--borderColor-default);
}

.markdown-body span.frame span img {
  display: block;
  float: left;
}

.markdown-body span.frame span span {
  display: block;
  padding: 5px 0 0;
  clear: both;
  color: var(--fgColor-default);
}

.markdown-body span.align-center {
  display: block;
  overflow: hidden;
  clear: both;
}

.markdown-body span.align-center>span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: center;
}

.markdown-body span.align-center span img {
  margin: 0 auto;
  text-align: center;
}

.markdown-body span.align-right {
  display: block;
  overflow: hidden;
  clear: both;
}

.markdown-body span.align-right>span {
  display: block;
  margin: 13px 0 0;
  overflow: hidden;
  text-align: right;
}

.markdown-body span.align-right span img {
  margin: 0;
  text-align: right;
}

.markdown-body span.float-left {
  display: block;
  float: left;
  margin-right: 13px;
  overflow: hidden;
}

.markdown-body span.float-left span {
  margin: 13px 0 0;
}

.markdown-body span.float-right {
  display: block;
  float: right;
  margin-left: 13px;
  overflow: hidden;
}

.markdown-body span.float-right>span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: right;
}

.markdown-body code,
.markdown-body tt {
  padding: .2em .4em;
  margin: 0;
  font-size: 85%;
  white-space: break-spaces;
  background-color: var(--bgColor-neutral-muted);
  border-radius: 6px;
}

.markdown-body code br,
.markdown-body tt br {
  display: none;
}

.markdown-body del code {
  text-decoration: inherit;
}

.markdown-body samp {
  font-size: 85%;
}

.markdown-body pre code {
  font-size: 100%;
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  color: var(--fgColor-default);
  background-color: var(--bgColor-muted);
  border-radius: 6px;
}

.markdown-body pre code,
.markdown-body pre tt {
  display: inline;
  max-width: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body .csv-data td,
.markdown-body .csv-data th {
  padding: 5px;
  overflow: hidden;
  font-size: 12px;
  line-height: 1;
  text-align: left;
  white-space: nowrap;
}

.markdown-body .csv-data .blob-num {
  padding: 10px 8px 9px;
  text-align: right;
  background: var(--bgColor-default);
  border: 0;
}

.markdown-body .csv-data tr {
  border-top: 0;
}

.markdown-body .csv-data th {
  font-weight: var(--base-text-weight-semibold, 600);
  background: var(--bgColor-muted);
  border-top: 0;
}

.markdown-body [data-footnote-ref]::before {
  content: "[";
}

.markdown-body [data-footnote-ref]::after {
  content: "]";
}

.markdown-body .footnotes {
  font-size: 12px;
  color: var(--fgColor-muted);
  border-top: 1px solid var(--borderColor-default);
}

.markdown-body .footnotes ol {
  padding-left: 16px;
}

.markdown-body .footnotes ol ul {
  display: inline-block;
  padding-left: 16px;
  margin-top: 16px;
}

.markdown-body .footnotes li {
  position: relative;
}

.markdown-body .footnotes li:target::before {
  position: absolute;
  top: -8px;
  right: -8px;
  bottom: -8px;
  left: -24px;
  pointer-events: none;
  content: "";
  border: 2px solid var(--borderColor-accent-emphasis);
  border-radius: 6px;
}

.markdown-body .footnotes li:target {
  color: var(--fgColor-default);
}

.markdown-body .footnotes .data-footnote-backref g-emoji {
  font-family: monospace;
}

.markdown-body .pl-c {
  color: var(--color-prettylights-syntax-comment);
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: var(--color-prettylights-syntax-constant);
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: var(--color-prettylights-syntax-entity);
}

.markdown-body .pl-smi,
.markdown-body .pl-s .pl-s1 {
  color: var(--color-prettylights-syntax-storage-modifier-import);
}

.markdown-body .pl-ent {
  color: var(--color-prettylights-syntax-entity-tag);
}

.markdown-body .pl-k {
  color: var(--color-prettylights-syntax-keyword);
}

.markdown-body .pl-s,
.markdown-body .pl-pds,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sre,
.markdown-body .pl-sr .pl-sra {
  color: var(--color-prettylights-syntax-string);
}

.markdown-body .pl-v,
.markdown-body .pl-smw {
  color: var(--color-prettylights-syntax-variable);
}

.markdown-body .pl-bu {
  color: var(--color-prettylights-syntax-brackethighlighter-unmatched);
}

.markdown-body .pl-ii {
  color: var(--color-prettylights-syntax-invalid-illegal-text);
  background-color: var(--color-prettylights-syntax-invalid-illegal-bg);
}

.markdown-body .pl-c2 {
  color: var(--color-prettylights-syntax-carriage-return-text);
  background-color: var(--color-prettylights-syntax-carriage-return-bg);
}

.markdown-body .pl-sr .pl-cce {
  font-weight: bold;
  color: var(--color-prettylights-syntax-string-regexp);
}

.markdown-body .pl-ml {
  color: var(--color-prettylights-syntax-markup-list);
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  font-weight: bold;
  color: var(--color-prettylights-syntax-markup-heading);
}

.markdown-body .pl-mi {
  font-style: italic;
  color: var(--color-prettylights-syntax-markup-italic);
}

.markdown-body .pl-mb {
  font-weight: bold;
  color: var(--color-prettylights-syntax-markup-bold);
}

.markdown-body .pl-md {
  color: var(--color-prettylights-syntax-markup-deleted-text);
  background-color: var(--color-prettylights-syntax-markup-deleted-bg);
}

.markdown-body .pl-mi1 {
  color: var(--color-prettylights-syntax-markup-inserted-text);
  background-color: var(--color-prettylights-syntax-markup-inserted-bg);
}

.markdown-body .pl-mc {
  color: var(--color-prettylights-syntax-markup-changed-text);
  background-color: var(--color-prettylights-syntax-markup-changed-bg);
}

.markdown-body .pl-mi2 {
  color: var(--color-prettylights-syntax-markup-ignored-text);
  background-color: var(--color-prettylights-syntax-markup-ignored-bg);
}

.markdown-body .pl-mdr {
  font-weight: bold;
  color: var(--color-prettylights-syntax-meta-diff-range);
}

.markdown-body .pl-ba {
  color: var(--color-prettylights-syntax-brackethighlighter-angle);
}

.markdown-body .pl-sg {
  color: var(--color-prettylights-syntax-sublimelinter-gutter-mark);
}

.markdown-body .pl-corl {
  text-decoration: underline;
  color: var(--color-prettylights-syntax-constant-other-reference-link);
}

.markdown-body [role=button]:focus:not(:focus-visible),
.markdown-body [role=tabpanel][tabindex="0"]:focus:not(:focus-visible),
.markdown-body button:focus:not(:focus-visible),
.markdown-body summary:focus:not(:focus-visible),
.markdown-body a:focus:not(:focus-visible) {
  outline: none;
  box-shadow: none;
}

.markdown-body [tabindex="0"]:focus:not(:focus-visible),
.markdown-body details-dialog:focus:not(:focus-visible) {
  outline: none;
}

.markdown-body g-emoji {
  display: inline-block;
  min-width: 1ch;
  font-family: "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
  font-size: 1em;
  font-style: normal !important;
  font-weight: var(--base-text-weight-normal, 400);
  line-height: 1;
  vertical-align: -0.075em;
}

.markdown-body g-emoji img {
  width: 1em;
  height: 1em;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item label {
  font-weight: var(--base-text-weight-normal, 400);
}

.markdown-body .task-list-item.enabled label {
  cursor: pointer;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: var(--base-size-4);
}

.markdown-body .task-list-item .handle {
  display: none;
}

.markdown-body .task-list-item-checkbox {
  margin: 0 .2em .25em -1.4em;
  vertical-align: middle;
}

.markdown-body .contains-task-list:dir(rtl) .task-list-item-checkbox {
  margin: 0 -1.6em .25em .2em;
}

.markdown-body .contains-task-list {
  position: relative;
}

.markdown-body .contains-task-list:hover .task-list-item-convert-container,
.markdown-body .contains-task-list:focus-within .task-list-item-convert-container {
  display: block;
  width: auto;
  height: 24px;
  overflow: visible;
  clip: auto;
}

.markdown-body ::-webkit-calendar-picker-indicator {
  filter: invert(50%);
}

.markdown-body .markdown-alert {
  padding: var(--base-size-8) var(--base-size-16);
  margin-bottom: var(--base-size-16);
  color: inherit;
  border-left: .25em solid var(--borderColor-default);
}

.markdown-body .markdown-alert>:first-child {
  margin-top: 0;
}

.markdown-body .markdown-alert>:last-child {
  margin-bottom: 0;
}

.markdown-body .markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: var(--base-text-weight-medium, 500);
  align-items: center;
  line-height: 1;
}

.markdown-body .markdown-alert.markdown-alert-note {
  border-left-color: var(--borderColor-accent-emphasis);
}

.markdown-body .markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--fgColor-accent);
}

.markdown-body .markdown-alert.markdown-alert-important {
  border-left-color: var(--borderColor-done-emphasis);
}

.markdown-body .markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--fgColor-done);
}

.markdown-body .markdown-alert.markdown-alert-warning {
  border-left-color: var(--borderColor-attention-emphasis);
}

.markdown-body .markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--fgColor-attention);
}

.markdown-body .markdown-alert.markdown-alert-tip {
  border-left-color: var(--borderColor-success-emphasis);
}

.markdown-body .markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--fgColor-success);
}

.markdown-body .markdown-alert.markdown-alert-caution {
  border-left-color: var(--borderColor-danger-emphasis);
}

.markdown-body .markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--fgColor-danger);
}

.markdown-body>*:first-child>.heading-element:first-child {
  margin-top: 0 !important;
}

/* github-markdown.css end */
</style>
        <title>CALM - Canvas Aided Lisp Magic</title>
    </head>
    <body>
        <div class="container">
        <div class="menu">
            <ul>
               <li><a href="/calm/index_ja.html">ホーム</a></li>
               <li><a href="/calm/docs/installation_ja.html">インストール</a></li>
               <li><a href="/calm/docs/hacking_ja.html">ハッキング</a></li>
               <li><a href="https://github.com/VitoVan/calm">ソース</a></li>
            </ul>
         </div>
            <div class="content markdown-body"><div class="markdown-heading"><h1 class="heading-element">
<a target="_blank" rel="noopener noreferrer" href="docs/images/calm.png"><img width="100" alt="Calm" src="docs/images/calm.png" style="max-width: 100%;"></a> C A L M</h1><a name="-c-a-l-m" class="anchor" aria-label="Permalink:  C A L M" href="#-c-a-l-m"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a href="https://github.com/VitoVan/calm/actions/workflows/calm.yml"><img src="https://github.com/VitoVan/calm/actions/workflows/calm.yml/badge.svg" alt="CI" style="max-width: 100%;"></a> <a href="#%E3%83%93%E3%83%AB%E3%83%89%E6%B8%88%E3%81%BF%E3%83%90%E3%82%A4%E3%83%8A%E3%83%AA"><img src="https://img.shields.io/github/downloads/vitovan/calm/total?color=brightgreen&amp;label=Downloads&amp;style=flat" style="max-width: 100%;"></a> <a href="https://discord.gg/xN6VeaMr2a" rel="nofollow"><img src="https://img.shields.io/discord/1124894601908584528?logo=discord&amp;logoColor=white&amp;label=Chat&amp;labelColor=%235865f2&amp;color=white" style="max-width: 100%;"></a></p>
<p><strong>C</strong>anvas <strong>A</strong>ided <strong>L</strong>isp <strong>M</strong>agic: Lisp でキャンバスベースのアプリケーションを作成し、Linux、macOS、Windows、Web 上で配布できます。</p>
<p><a href="index.html">English</a> | 日本語</p>
<div class="markdown-heading"><h2 class="heading-element">Hello, World!</h2><a name="hello-world" class="anchor" aria-label="Permalink: Hello, World!" href="#hello-world"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>任意のディレクトリを探し、ファイルを作成する: <strong>canvas.lisp</strong></p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defparameter</span> <span class="pl-sr">*color-list*</span> <span class="pl-c1">'</span>((<span class="pl-c1">0.83</span> <span class="pl-c1">0.82</span> <span class="pl-c1">0.84</span>) (<span class="pl-c1">0.89</span> <span class="pl-c1">0.12</span> <span class="pl-c1">0.17</span>) (<span class="pl-c1">0.94</span> <span class="pl-c1">0.87</span> <span class="pl-c1">0.47</span>) (<span class="pl-c1">0</span> <span class="pl-c1">0.35</span> <span class="pl-c1">0.59</span>)))
(<span class="pl-k">defun</span> <span class="pl-en">draw</span> ()
  (<span class="pl-c1">c</span>:set-operator <span class="pl-en">:darken</span>)
  (<span class="pl-k">dotimes</span> (i <span class="pl-c1">7</span>)
    (<span class="pl-c1">c</span>:arc (<span class="pl-c1">+</span> <span class="pl-c1">72</span> (<span class="pl-c1">*</span> (<span class="pl-c1">-</span> (<span class="pl-c1">/</span> <span class="pl-sr">*calm-window-width*</span> <span class="pl-c1">5</span>) <span class="pl-c1">44</span>) i)) <span class="pl-c1">73</span> <span class="pl-c1">50</span> <span class="pl-c1">0</span> (<span class="pl-c1">*</span> <span class="pl-c1">2</span> <span class="pl-c1">pi</span>))
    (<span class="pl-c1">apply</span> <span class="pl-c1">#'</span>c:set-source-rgb (<span class="pl-c1">nth</span> (<span class="pl-k">if</span> (<span class="pl-c1">&gt;=</span> i <span class="pl-c1">4</span>) (<span class="pl-c1">-</span> i <span class="pl-c1">4</span>) i) <span class="pl-sr">*color-list*</span>))
    (<span class="pl-c1">c</span>:fill-path)))</pre></div>
<p>ターミナルを起動し、そのディレクトリに cd してコマンドを入力する:</p>
<div class="highlight highlight-source-shell"><pre>calm</pre></div>
<p><a href="#hello-world"><img src="docs/examples/circles/canvas.png" alt="Hello World" style="max-width: 100%;"></a></p>
<div class="markdown-heading"><h2 class="heading-element">例</h2><a name="例" class="anchor" aria-label="Permalink: 例" href="#例"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p align="center">
    <a href="https://vitovan.com/calm/1.3.2/fan/calm.html" rel="nofollow"><img width="250" alt="Fan" src="./docs/examples/fan/canvas.png" style="max-width: 100%;"></a>
    <a href="https://vitovan.com/calm/1.3.2/mondrian/calm.html" rel="nofollow"><img width="250" alt="Mondrian" src="./docs/examples/mondrian/canvas.png" style="max-width: 100%;"></a>
    <a href="https://vitovan.com/calm/1.3.2/meditator/calm.html" rel="nofollow"><img width="250" alt="Meditator" src="./docs/examples/meditator/canvas.png" style="max-width: 100%;"></a>
</p>
<p>上記の例のソースファイルとバイナリは<a href="https://github.com/VitoVan/calm/tree/main/docs/examples">こちら</a>と<a href="https://github.com/VitoVan/calm/releases/tag/1.3.2">こちら</a>です。</p>
<p>CALM で作られた他のアプリケーションについては、<a href="https://github.com/VitoVan/made-with-calm">Made with CALM</a> をご覧ください。</p>
<div class="markdown-heading"><h2 class="heading-element">
<a target="_blank" rel="noopener noreferrer" href="./docs/images/calm.png"><img width="50" alt="Calm Installer" src="./docs/images/calm.png" style="max-width: 100%;"></a> インストール</h2><a name="-インストール" class="anchor" aria-label="Permalink:  インストール" href="#-インストール"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h3 class="heading-element">ビルド済みバイナリ</h3><a name="ビルド済みバイナリ" class="anchor" aria-label="Permalink: ビルド済みバイナリ" href="#ビルド済みバイナリ"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<ol>
<li>
<p>ダウンロード</p>
<p><a href="https://github.com/VitoVan/calm/releases/latest/download/calm.tgz"><img src="https://img.shields.io/badge/Linux-glibc%202.31+-FFD032.svg?logo=linux" style="max-width: 100%;"></a>
<a href="https://github.com/VitoVan/calm/releases/latest/download/calm.macos-14.dmg"><img src="https://img.shields.io/badge/macOS-Sonoma-black?logo=apple" style="max-width: 100%;"></a>
<a href="https://github.com/VitoVan/calm/releases/latest/download/calm.zip"><img src="https://img.shields.io/badge/Windows-Windows%2010/11-017fd5.svg?logo=windows" style="max-width: 100%;"></a>
<a href="https://github.com/VitoVan/calm/releases/latest/download/calm.macos-13.dmg"><img src="https://img.shields.io/badge/macOS-Ventura-white?logo=apple" style="max-width: 100%;"></a>
<a href="https://github.com/VitoVan/calm/releases/latest/download/calm.macos-12.dmg"><img src="https://img.shields.io/badge/macOS-Monterey-white?logo=apple" style="max-width: 100%;"></a></p>
</li>
<li>
<p>解凍</p>
</li>
<li>
<p>解凍したディレクトリを PATH 環境に追加する</p>
<p>macOS の場合は、代わりに <code>/Applications/Calm.app/Contents/MacOS/</code> を追加する</p>
</li>
</ol>
<p>macOS と Windows ユーザーの場合、CALM を使うには <a href="https://www.google.com/search?q=how+to+get+around+windows+smartscreen" rel="nofollow">Windows SmartScreen</a> よりもスマートであるか、<a href="https://www.google.com/search?q=how+to+remove+quarantine+flags+in+macos" rel="nofollow">macOS を飼いならす事</a>ができる必要があります。万が一何かあったときのために、ここに<a href="docs/installation_ja.html">インストールガイド</a>があります。</p>
<div class="markdown-heading"><h3 class="heading-element">ソースからの実行</h3><a name="ソースからの実行" class="anchor" aria-label="Permalink: ソースからの実行" href="#ソースからの実行"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>現在、サポートされているプラットフォームは <a href="https://github.com/actions/runner-images">GitHub Actions runner images</a> によって制限されています。</p>
<p>もしあなたのプラットフォームがサポートされていない場合は、<a href="docs/hacking_ja.html#%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%8B%E3%82%89%E3%81%AE%E5%AE%9F%E8%A1%8C">ソースから実行</a>を使ってください。</p>
<div class="markdown-heading"><h2 class="heading-element">
<a target="_blank" rel="noopener noreferrer" href="./docs/images/app.png"><img width="50" alt="Calm Application" src="./docs/images/app.png" style="max-width: 100%;"></a> 配布</h2><a name="-配布" class="anchor" aria-label="Permalink:  配布" href="#-配布"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>ターミナルを起動し、<strong>canvas.lisp</strong> ファイルが存在するディレクトリに cd し、次のコマンドを入力する:</p>
<div class="highlight highlight-source-shell"><pre>calm publish</pre></div>
<p>このコマンドは、プラットフォームによって異なるパッケージを生成する:</p>
<p><strong>Linux: AppImage</strong></p>
<p><a target="_blank" rel="noopener noreferrer" href="./docs/images/linux-appimage.png"><img src="./docs/images/linux-appimage.png" alt="Linux AppImage" style="max-width: 100%;"></a></p>
<blockquote>
<p><strong>注</strong></p>
<p>ファンシーウィンドウのアイコンは Wayland では表示されない、何故かは不明。</p>
</blockquote>
<p><strong>macOS: Application Bundle</strong></p>
<p><a target="_blank" rel="noopener noreferrer" href="./docs/images/macos-dmg.png"><img src="./docs/images/macos-dmg.png" alt="macOS Application DMG" style="max-width: 100%;"></a></p>
<blockquote>
<p><strong>注</strong></p>
<p>DMG の作成は <a href="https://github.com/create-dmg/create-dmg">create-dmg</a> によって行われ、もし存在しなければ <code>brew install create-dmg</code> によってインストールされます。そのため、create-dmg を持っていない場合は、これで create-dmg がインストールされます。</p>
<p>また、<a href="https://brew.sh/" rel="nofollow">Homebrew</a> を持っていない場合は Homebrew をインストールしてくれます。</p>
<p>バイナリ検出は <code>command -v create-dmg</code> と <code>command -v brew</code> で行われています。</p>
</blockquote>
<p><strong>Windows: Installer</strong></p>
<p><a target="_blank" rel="noopener noreferrer" href="./docs/images/windows-installer.png"><img src="./docs/images/windows-installer.png" alt="Windows Installer" style="max-width: 100%;"></a></p>
<blockquote>
<p><strong>注</strong></p>
<p>インストーラの作成は <a href="https://nsis.sourceforge.io/" rel="nofollow">NSIS</a> によって行われ、もし存在しなければ <code>winget install nsis</code> によってインストールされます。NSIS (つまり <code>makensis</code>) が PATH の下にない場合、NSIS がインストールされます。</p>
<p>また、PATH の下に <a href="https://github.com/microsoft/winget-cli">winget</a> がなければ、これで winget もインストールされます。</p>
<p>バイナリ検出は <code>where makensis</code> と <code>where winget</code> によって行われています。</p>
</blockquote>
<div class="markdown-heading"><h3 class="heading-element">Web へ</h3><a name="web-へ" class="anchor" aria-label="Permalink: Web へ" href="#web-へ"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-shell"><pre>calm publish-web</pre></div>
<p>このコマンドを実行すると、Lisp コードをコンパイルして Web ページを作成することができます。</p>
<p>詳しくは<a href="#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9">コマンドリファレンス</a>を参照してください。</p>
<div class="markdown-heading"><h1 class="heading-element">CALM - リファレンス</h1><a name="calm---リファレンス" class="anchor" aria-label="Permalink: CALM - リファレンス" href="#calm---リファレンス"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>CALM 1.0.0 から、バージョン番号は <a href="https://semver.org/spec/v2.0.0.html" rel="nofollow">Semantic Versioning Specification</a> に従います。これは、私がおかしくなることを心配することなく、落ち着いて CALM を使えることを意味します。というのも、私がおかしくなりそうなときはいつでも、<a href="https://semver.org/spec/v2.0.0.html#spec-item-7" rel="nofollow">何かが変更される前に</a>お知らせしますし、<a href="https://semver.org/spec/v2.0.0.html#spec-item-8" rel="nofollow">何か驚かせるようなことがあったら</a>メジャーバージョンを上げます。</p>
<p>Keep CALM and have fun.</p>
<div class="markdown-heading"><h2 class="heading-element">コマンドリファレンス</h2><a name="コマンドリファレンス" class="anchor" aria-label="Permalink: コマンドリファレンス" href="#コマンドリファレンス"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h3 class="heading-element"><code>calm</code></h3><a name="calm" class="anchor" aria-label="Permalink: calm" href="#calm"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>このコマンドはプロジェクトのディレクトリ内で実行する必要があり、<strong>canvas.lisp</strong> というファイルが存在するはずです。</p>
<p>このコマンドは <strong>canvas.lisp</strong> をロードし、関数 <code>draw</code> または <code>draw-forever</code> の指示に従ってウィンドウを表示します。<strong>canvas.lisp</strong> は普通の Lisp ソースファイルなので、好きなように記述してください。</p>
<p>CALM 関連の関数やパラメータについては、<a href="#api-%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9">API リファレンス</a>を参照してください。</p>
<div class="markdown-heading"><h3 class="heading-element"><code>calm hello</code></h3><a name="calm-hello" class="anchor" aria-label="Permalink: calm hello" href="#calm-hello"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>このコマンドは、デフォルトのディレクトリ構造でサンプルアプリケーションを作成します。最初にプロジェクトディレクトリを作成する必要があります:</p>
<div class="highlight highlight-source-shell"><pre>mkdir my-cool-app
<span class="pl-c1">cd</span> my-cool-app
calm hello</pre></div>
<p>以下のファイルとディレクトリが作成されます:</p>
<pre lang="text"><code>.
├── assets
├── canvas.lisp
└── fonts
    └── fonts.conf
</code></pre>
<p><strong>assets</strong> ディレクトリと <strong>fonts</strong> ディレクトリに入れたファイルは、配布時にアプリケーションに同梱されます。お気に入りのフォントを <strong>fonts</strong> ディレクトリに置くと、アプリケーション内でそのフォントを使用できるようになります。</p>
<p>フォントの使い方については、<a href="#%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88%E3%81%AE%E3%83%AC%E3%83%B3%E3%83%80%E3%83%AA%E3%83%B3%E3%82%B0">API リファレンス: テキストのレンダリング</a>を参照してください。</p>
<div class="markdown-heading"><h3 class="heading-element"><code>calm publish</code></h3><a name="calm-publish" class="anchor" aria-label="Permalink: calm publish" href="#calm-publish"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>このコマンドは以下を生成します:</p>
<ul>
<li>Linux AppImage</li>
<li>DMG 内の macOS アプリケーションバンドル</li>
<li>Windows アプリケーションインストーラー</li>
</ul>
<p>実行しているプラットフォームによって異なります。</p>
<p>引数はとりませんが、いくつかのオプションは環境変数で設定できます。オプションの詳細については <code>calm publish-with-options</code> を確認してください。</p>
<div class="markdown-heading"><h3 class="heading-element"><code>calm publish-with-options</code></h3><a name="calm-publish-with-options" class="anchor" aria-label="Permalink: calm publish-with-options" href="#calm-publish-with-options"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>このコマンドは <code>calm publish</code> と同じことをしますが、その代わりにカスタマイズ可能なすべてのオプション（デフォルト値が用意されています、心配しないでください）について、それぞれあなたの意見を聞きます:</p>
<table>
<thead>
<tr>
<th>OS</th>
<th>ENV</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Linux</td>
<td>APP_NAME</td>
<td>AppImage のファイル名</td>
</tr>
<tr>
<td>Linux</td>
<td>APP_ICON</td>
<td>AppImage ファイルのアイコンと SDL2 Window、PNG ファイルの絶対パス</td>
</tr>
<tr>
<td>macOS</td>
<td>APP_NAME</td>
<td>Launchpad に表示される macOS アプリケーションバンドルの名</td>
</tr>
<tr>
<td>macOS</td>
<td>APP_ICON</td>
<td>macOS アプリケーションアイコン、ICNS ファイルの絶対パス</td>
</tr>
<tr>
<td>macOS</td>
<td>BUNDLE_ID</td>
<td>
<a href="https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleidentifier" rel="nofollow">CFBundleIdentifier</a>、例えば <code>com.vitovan.helloworld</code>
</td>
</tr>
<tr>
<td>macOS</td>
<td>APP_VERSION</td>
<td>
<a href="https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleshortversionstring" rel="nofollow">CFBundleShortVersionString</a>、例えば: <code>10.14.1</code>
</td>
</tr>
<tr>
<td>macOS</td>
<td>DMG_ICON</td>
<td>Apple Disk Image (DMG) のアイコン、ICNS ファイルの絶対パス</td>
</tr>
<tr>
<td>Windows</td>
<td>APP_NAME</td>
<td>Windows アプリケーション名は、<em>コントロールパネル &gt; プログラムと機能</em>、<em>アプリケーションと機能</em>、およびデスクトップショートカットの名前として表示されます</td>
</tr>
<tr>
<td>Windows</td>
<td>APP_ICON</td>
<td>Windows EXE アイコン、ICO ファイルの絶対パス</td>
</tr>
</tbody>
</table>
<p>対応する環境変数を設定した場合、オプションは聞かれません。また、<code>calm publish</code> コマンドを使っているときにこれらの環境変数を設定することもできます。</p>
<div class="markdown-heading"><h3 class="heading-element"><code>calm publish-web</code></h3><a name="calm-publish-web" class="anchor" aria-label="Permalink: calm publish-web" href="#calm-publish-web"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>このコマンドは、インターネット上で提供するために必要なすべての素材を含む <strong>web</strong> ディレクトリを生成します。一般的な使い方は次のようになります:</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> my-cool-app
calm publish-web</pre></div>
<p>以下のファイルが作成されます:</p>
<pre lang="text"><code>web
├── calm.data
├── calm.html
├── calm.js
├── calm.wasm
├── canvas.js
├── favicon.ico
└── jscl.js
</code></pre>
<p><strong>calm.html</strong> がエントリーポイントです。web ブラウザの制限のため、このファイルは次のような HTTP プロトコルでご覧ください:</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c1">cd</span> web
python3 -m http.server 8000</pre></div>
<p>次にブラウザで <a href="http://127.0.0.1:8000/calm.html" rel="nofollow">http://127.0.0.1:8000/calm.html</a> を開きます。</p>
<p>注: デフォルトでは <strong>fonts</strong> と <strong>assets</strong> ディレクトリ内のファイルはパック <em>されません</em> 。以下の REBUILD_WASM_P オプションを確認してください。</p>
<div class="markdown-heading"><h3 class="heading-element"><code>calm publish-web-with-options</code></h3><a name="calm-publish-web-with-options" class="anchor" aria-label="Permalink: calm publish-web-with-options" href="#calm-publish-web-with-options"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>このコマンドは <code>calm publish-web</code> 用であることを除けば、<code>calm publish-with-options</code> のように動作します。</p>
<table>
<thead>
<tr>
<th>ENV</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>LISP_FILES</td>
<td>
<code>(load "shape.lisp")</code> のようなコードは、JSCL が HTTP リクエストでそのファイルをロードしようとするため、ウェブアプリケーションに問題を引き起こす可能性があります。 <br><strong>canvas.lisp</strong> 以外のファイルをインクルードする必要がある場合は、JSCL をバイパスするようにコードを修正してください、例えば: 次のように、<code>#-jscl (load "shape.lisp")</code> を実行し、このオプションを設定する: <code>("/abs/path/to/canvas.lisp" "/abs/path/to/shape.lisp")</code> 。ENV を設定する場合は、二重引用符をエスケープすることを忘れないでください。</td>
</tr>
<tr>
<td>REBUILD_WASM_P</td>
<td>デフォルトでは、WebAssembly ファイルはローカルでビルドされず、<a href="https://github.com/VitoVan/calm/releases/">CALM Releases</a> からダウンロードされます: <strong>calm.tar</strong> 。 このビルド済み WebAssembly バイナリは <a href="https://github.com/googlefonts/opensans/raw/main/fonts/ttf/OpenSans-Regular.ttf">OpenSan-Regular.ttf</a> とバンドルされており、以下の <a href="#api-%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9">API リファレンス</a>にある <a href="https://github.com/VitoVan/calm/blob/main/s/usr/web/wasm.lisp#L61">Cairo および SDL2 のすべての API</a> を公開しています。<br> 他の <strong>fonts</strong> や <strong>assets</strong> をバンドルする必要がある場合や、より多くの C API をウェブに公開する必要がある場合は、このオプションを "yes" に設定してください。 <br>注意: WebAssembly のバイナリをビルドするには、たくさんの依存関係が必要になります。そのため、<code>docker</code> コマンドが自由に使えることを確認して下さい。<br>デフォルト: "no"</td>
</tr>
</tbody>
</table>
<p>JSCL は CALM の Web 上でのバックボーンですので、JSCL の変更は CALM 自体の変更とみなされます。CALM の各バージョンで使用されている JSCL のコードベースは固定されていますので、CALM をアップデートしない限り変更されることはありません。安心してお使いください。</p>
<div class="markdown-heading"><h3 class="heading-element">API リファレンス</h3><a name="api-リファレンス" class="anchor" aria-label="Permalink: API リファレンス" href="#api-リファレンス"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>CALM は、<a href="https://wiki.libsdl.org/SDL2/FrontPage" rel="nofollow">SDL2</a> や <a href="https://www.cairographics.org/" rel="nofollow">Cairo</a>、その他のものの上の薄いレイヤーになることを意図しています。なので、CALM が提供する API の数はできるだけ少なくなるように意図しています。</p>
<div class="markdown-heading"><h4 class="heading-element">基礎</h4><a name="基礎" class="anchor" aria-label="Permalink: 基礎" href="#基礎"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">ファイル <code>canvas.lisp</code>
</h5><a name="ファイル-canvaslisp" class="anchor" aria-label="Permalink: ファイル canvas.lisp" href="#ファイル-canvaslisp"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>これは CALM アプリケーションのエントリーファイルです。通常、<code>draw</code> という関数が含まれています。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>draw</code>
</h5><a name="関数-draw" class="anchor" aria-label="Permalink: 関数 draw" href="#関数-draw"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>これは CALM アプリケーションのエントリー関数で、アプリケーションが起動すると呼び出されます。表示されるキャンバスの描画関数を呼び出すことになっています:</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">draw</span> ()
  (<span class="pl-c1">c</span>:set-source-rgb <span class="pl-c1">1</span> <span class="pl-c1">0</span> <span class="pl-c1">0</span>)
  (<span class="pl-c1">c</span>:arc <span class="pl-c1">200</span> <span class="pl-c1">73</span> <span class="pl-c1">50</span> <span class="pl-c1">0</span> (<span class="pl-c1">*</span> <span class="pl-c1">2</span> <span class="pl-c1">pi</span>))
  (<span class="pl-c1">c</span>:fill-path))</pre></div>
<p>この関数は受動的に呼び出されます。つまり、マウスの動き、キーのダウン、キーのアップ、マウスボタンのダウンなど、ユーザーによって何らかのイベントがトリガーされない限り、この関数は最初の呼び出しの後、再び呼び出されることはありません。</p>
<p>ユーザーの操作なしにキャンバスを更新し続けたい場合は、<code>draw-forever</code>を使うべきです。</p>
<p>注: <code>c:arc</code> のような関数は CALM が公開しているサードパーティの API です。詳しくは<a href="#%E3%82%AD%E3%83%A3%E3%83%B3%E3%83%90%E3%82%B9%E3%81%AB%E6%8F%8F%E7%94%BB">キャンバスに描画</a>を参照してください。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>draw-forever</code>
</h5><a name="関数-draw-forever" class="anchor" aria-label="Permalink: 関数 draw-forever" href="#関数-draw-forever"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この関数は <code>draw</code> 関数と同様に、CALM アプリケーションのエントリーポイントとしても機能します。<code>draw</code> と <code>draw-forever</code> の両方を定義することは、John Wick の犬を殺してしまうような深刻な結果をもたらすので、避けることが重要です。</p>
<p>この関数はユーザーの操作に関係なく、<code>*calm-delay*</code> ミリ秒ごとに呼び出されます。</p>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-delay*</code>
</h5><a name="変数-calm-delay" class="anchor" aria-label="Permalink: 変数 *calm-delay*" href="#変数-calm-delay"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この変数は、CALM がキャンバスをリフレッシュする前に何ミリ秒待つかをコントロールします</p>
<p>デフォルト: 42</p>
<p>この変数はデスクトッププラットフォームでのみ機能します。ウェブプラットフォームでは <code>*calm-fps*</code> をチェックしてください。</p>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-redraw*</code>
</h5><a name="変数-calm-redraw" class="anchor" aria-label="Permalink: 変数 *calm-redraw*" href="#変数-calm-redraw"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この変数はこの後のキャンバスをリフレッシュするかどうかを制御します。</p>
<p>通常はこの変数に触れる必要はありません。しかし、<code>draw-forever</code> を使用していて、リフレッシュのプロセスを手動でコントロールしたい場合、この変数は役に立ちます。例えば:</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defparameter</span> <span class="pl-sr">*game-started*</span> <span class="pl-c1">nil</span>)

(<span class="pl-k">defun</span> <span class="pl-en">on-keyup</span> (key)
  (<span class="pl-k">when</span> (<span class="pl-c1">c</span>:keq key <span class="pl-en">:SCANCODE-SPACE</span>)
    (<span class="pl-k">setf</span> <span class="pl-sr">*game-started*</span> (<span class="pl-c1">not</span> <span class="pl-sr">*game-started*</span>))))

(<span class="pl-k">defun</span> <span class="pl-en">draw-forever</span> ()
  (<span class="pl-c1">format</span> <span class="pl-c1">t</span> <span class="pl-s"><span class="pl-pds">"</span>drawing canvas...<span class="pl-en">~%</span><span class="pl-pds">"</span></span>)
  (<span class="pl-c1">c</span>:set-source-rgb (<span class="pl-c1">/</span> <span class="pl-c1">12</span> <span class="pl-c1">255</span>) (<span class="pl-c1">/</span> <span class="pl-c1">55</span> <span class="pl-c1">255</span>) (<span class="pl-c1">/</span> <span class="pl-c1">132</span> <span class="pl-c1">255</span>))
  (<span class="pl-c1">c</span>:paint)
  (<span class="pl-c1">c</span>:set-source-rgb <span class="pl-c1">1</span> <span class="pl-c1">1</span> <span class="pl-c1">1</span>)
  (<span class="pl-c1">c</span>:move-to <span class="pl-c1">70</span> <span class="pl-c1">90</span>)
  (<span class="pl-c1">c</span>:select-font-family <span class="pl-s"><span class="pl-pds">"</span>Arial<span class="pl-pds">"</span></span> <span class="pl-en">:normal</span> <span class="pl-en">:normal</span>)
  (<span class="pl-c1">c</span>:set-font-size <span class="pl-c1">60</span>)
  (<span class="pl-c1">c</span>:show-text (<span class="pl-c1">format</span> <span class="pl-c1">nil</span> <span class="pl-s"><span class="pl-pds">"</span>Press SPACE: <span class="pl-en">~A</span><span class="pl-pds">"</span></span> (<span class="pl-c1">write-to-string</span> (<span class="pl-c1">mod</span> (<span class="pl-c1">c</span>:get-ticks) <span class="pl-c1">9</span>))))
  (<span class="pl-k">setf</span> <span class="pl-sr">*calm-redraw*</span> <span class="pl-sr">*game-started*</span>))</pre></div>
<p>注: この変数は、ユーザーイベントがトリガーされるたびに <code>T</code> に設定されます。</p>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-fps*</code>
</h5><a name="変数-calm-fps" class="anchor" aria-label="Permalink: 変数 *calm-fps*" href="#変数-calm-fps"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この変数は CALM がキャンバスを更新する前に何ミリ秒待つかを制御します。0 を設定すると、ブラウザの <code>requestAnimationFrame</code> メカニズムを使用してキャンバスを更新します。</p>
<p>デフォルト: 42</p>
<p>この変数はウェブ上でのみ動作します。デスクトッププラットフォームでは <code>*calm-delay*</code> をチェックしてください。</p>
<div class="markdown-heading"><h4 class="heading-element">キャンバスに描画</h4><a name="キャンバスに描画" class="anchor" aria-label="Permalink: キャンバスに描画" href="#キャンバスに描画"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>CALM での描画は、<a href="https://www.cairographics.org/" rel="nofollow">Cairo</a> を使って実現できます。</p>
<p>どのように描画するかについては、<a href="https://www.cairographics.org/tutorial/" rel="nofollow">Cairo チュートリアル</a>と <a href="https://www.cairographics.org/manual/" rel="nofollow">Cairo API</a> を読んでください。</p>
<p>たとえば:</p>
<div class="highlight highlight-source-c"><pre><span class="pl-en">cairo_set_line_width</span> (<span class="pl-s1">cr</span>, <span class="pl-c1">0.1</span>);
<span class="pl-en">cairo_set_source_rgb</span> (<span class="pl-s1">cr</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>);
<span class="pl-en">cairo_rectangle</span> (<span class="pl-s1">cr</span>, <span class="pl-c1">0.25</span>, <span class="pl-c1">0.25</span>, <span class="pl-c1">0.5</span>, <span class="pl-c1">0.5</span>);
<span class="pl-en">cairo_stroke</span> (<span class="pl-s1">cr</span>);</pre></div>
<p>は以下と同じです</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:set-line-width <span class="pl-c1">0.1</span>)
(<span class="pl-c1">c</span>:set-source-rgb <span class="pl-c1">0</span> <span class="pl-c1">0</span> <span class="pl-c1">0</span>)
(<span class="pl-c1">c</span>:rectangle <span class="pl-c1">0.25</span> <span class="pl-c1">0.25</span> <span class="pl-c1">0.5</span> <span class="pl-c1">0.5</span>)
(<span class="pl-c1">c</span>:stroke)</pre></div>
<p><a href="https://github.com/rpav/cl-cairo2/blob/master/src/package.lisp#L7-L142">cl-cairo2 によってエクスポートされる</a> シンボルはすべて、<code>c:</code> のような接頭辞でアクセスできるようにすべきです、例えば： <code>c:arc</code> 。ウェブ上では、アクセス可能なシンボルは <a href="https://github.com/VitoVan/calm/blob/main/src/web/cairo.lisp#L266-L405">cairo.lisp</a> によって制限されています。</p>
<p>Cairo は CALM の主要な描画機能ですので、Cairo 関連のシンボルの変更は CALM 自体の変更とみなされます。安心してお使いください。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:rrectangle</code>
</h5><a name="関数-crrectangle" class="anchor" aria-label="Permalink: 関数 c:rrectangle" href="#関数-crrectangle"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>丸みのある長方形を描きます。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">draw</span> ()
  (<span class="pl-c1">c</span>:set-source-rgb <span class="pl-c1">0</span> <span class="pl-c1">0</span> <span class="pl-c1">1</span>)
  (<span class="pl-c1">c</span>:rrectangle <span class="pl-c1">20</span> <span class="pl-c1">20</span> <span class="pl-c1">100</span> <span class="pl-c1">100</span> <span class="pl-en">:radius</span> <span class="pl-c1">8</span>) <span class="pl-c"><span class="pl-c">;</span>; &lt;---- ここ</span>
  (<span class="pl-c1">c</span>:fill-path))</pre></div>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:show-png</code>
</h5><a name="関数-cshow-png" class="anchor" aria-label="Permalink: 関数 c:show-png" href="#関数-cshow-png"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>png ファイルを表示します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">draw</span> ()
  (<span class="pl-c1">c</span>:show-png <span class="pl-s"><span class="pl-pds">"</span>assets/calm.png<span class="pl-pds">"</span></span> <span class="pl-c1">20</span> <span class="pl-c1">20</span> <span class="pl-c1">100</span> <span class="pl-c1">100</span>))</pre></div>
<p>この関数は必要に応じて png を引き伸ばします。</p>
<div class="markdown-heading"><h4 class="heading-element">テキストのレンダリング</h4><a name="テキストのレンダリング" class="anchor" aria-label="Permalink: テキストのレンダリング" href="#テキストのレンダリング"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:select-font-family</code>
</h5><a name="関数-cselect-font-family" class="anchor" aria-label="Permalink: 関数 c:select-font-family" href="#関数-cselect-font-family"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この関数は<code>c:show-text</code>で使用するフォントを選択します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:select-font-family <span class="pl-s"><span class="pl-pds">"</span>Open Sans<span class="pl-pds">"</span></span> <span class="pl-en">:normal</span> <span class="pl-en">:normal</span>)</pre></div>
<p>次の 3 つの引数を取ります: <code>family</code>、<code>slant</code>、<code>weight</code> です。詳細な例については、<code>c:show-text</code> を参照して下さい。</p>
<p>カスタムフォントをインストールせずに使用するには、<strong>canvas.lisp</strong>ファイルからの相対パスで、<strong>fonts</strong>ディレクトリに置くだけです。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:show-text</code>
</h5><a name="関数-cshow-text" class="anchor" aria-label="Permalink: 関数 c:show-text" href="#関数-cshow-text"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この関数は単純なテキストを表示します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">draw</span> ()
  (<span class="pl-c1">c</span>:move-to <span class="pl-c1">30</span> <span class="pl-c1">100</span>)
  (<span class="pl-c1">c</span>:set-font-size <span class="pl-c1">84</span>)
  (<span class="pl-c1">c</span>:select-font-family <span class="pl-s"><span class="pl-pds">"</span>Open Sans<span class="pl-pds">"</span></span> <span class="pl-en">:italic</span> <span class="pl-en">:bold</span>)
  (<span class="pl-c1">c</span>:show-text <span class="pl-s"><span class="pl-pds">"</span>DON'T PANIC<span class="pl-pds">"</span></span>))</pre></div>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:show-markup</code>
</h5><a name="関数-cshow-markup" class="anchor" aria-label="Permalink: 関数 c:show-markup" href="#関数-cshow-markup"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この関数は <a href="https://docs.gtk.org/Pango/pango_markup.html" rel="nofollow">Pango Markup</a> を表示します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">draw</span> ()
  (<span class="pl-c1">c</span>:move-to <span class="pl-c1">20</span> <span class="pl-c1">10</span>)
  (<span class="pl-c1">c</span>:set-font-size <span class="pl-c1">84</span>)
  (<span class="pl-c1">c</span>:show-markup <span class="pl-s"><span class="pl-pds">"</span>This is &lt;span fgcolor='#245791' weight='bold' face='Open Sans'&gt;SICK&lt;/span&gt;<span class="pl-pds">"</span></span>))</pre></div>
<p><code>c:show-markup</code> と <code>c:show-text</code> では座標系が若干異なるので、<code>c:show-markup</code> と <code>c:show-text</code> を切り替える場合には少し位置を調整する必要があるかもしれないです。</p>
<p>この関数は以下の理由によりウェブには公開されていません:</p>
<ol>
<li>Pango はマルチスレッドを必要とし、そのためには余計な <a href="https://web.dev/coop-coep/" rel="nofollow">HTTP HEADERS</a> を設定する必要がある。</li>
<li>Pango を WebAssembly にコンパイルすると、読み込みにかかる時間とデータが増えます。</li>
<li>Pango を使用する場合、余分なフォントがバンドルされることが多く、ロードされるデータが増えます。</li>
</ol>
<p>というわけで、実装は簡単ですが、デフォルトで Pango をインクルードするのは良いアイデアとは思えません。</p>
<div class="markdown-heading"><h4 class="heading-element">サウンドの再生</h4><a name="サウンドの再生" class="anchor" aria-label="Permalink: サウンドの再生" href="#サウンドの再生"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:play-wav</code>
</h5><a name="関数-cplay-wav" class="anchor" aria-label="Permalink: 関数 c:play-wav" href="#関数-cplay-wav"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>wavファイルを再生します。</p>
<p>もし <code>c:play-wav</code> が以前に呼ばれ、前の wav ファイルがまだ再生されていた場合、その音はマージされます。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:play-wav <span class="pl-s"><span class="pl-pds">"</span>assets/ouch.ogg<span class="pl-pds">"</span></span> <span class="pl-en">:loops</span> <span class="pl-c1">0</span> <span class="pl-en">:channel</span> <span class="pl-c1">-1</span>)</pre></div>
<p><code>:loops</code> を -1 に設定すると、"無限に" （～65000 回）再生します</p>
<p><code>:channel</code> を -1 に設定すると、最初に空いているチャンネルで再生します</p>
<p>同時に再生できるファイルの最大数は <code>*calm-audio-numchans*</code> 変数に制限されます。</p>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-audio-numchans*</code>
</h5><a name="変数-calm-audio-numchans" class="anchor" aria-label="Permalink: 変数 *calm-audio-numchans*" href="#変数-calm-audio-numchans"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>同時に再生される wav ファイルの最大数です。</p>
<p>デフォルト: 8</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:volume-wav</code>
</h5><a name="関数-cvolume-wav" class="anchor" aria-label="Permalink: 関数 c:volume-wav" href="#関数-cvolume-wav"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><code>c:play-wav</code> の音量を設定します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:volume-wav <span class="pl-c1">128</span> <span class="pl-en">:channel</span> <span class="pl-c1">-1</span>)</pre></div>
<p>値は 0 （無音）から 128 の間でなければなりません。</p>
<p><code>:channel</code> を -1 に設定すると、すべてのチャンネルを意味します。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:halt-wav</code>
</h5><a name="関数-chalt-wav" class="anchor" aria-label="Permalink: 関数 c:halt-wav" href="#関数-chalt-wav"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>あるチャンネル、あるいはすべてのチャンネルを停止します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:halt-wav <span class="pl-en">:channel</span> <span class="pl-c1">-1</span>)</pre></div>
<p><code>:channel</code> を -1 に設定すると、すべてのチャンネルを意味します。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:play-music</code>
</h5><a name="関数-cplay-music" class="anchor" aria-label="Permalink: 関数 c:play-music" href="#関数-cplay-music"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>MP3、Ogg、WAV の音楽ファイルを再生します。</p>
<p>他のタイプのファイルでも動作するかもしれませんが、CALM が保証するものではありません。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:play-music <span class="pl-s"><span class="pl-pds">"</span>assets/bgm.ogg<span class="pl-pds">"</span></span> <span class="pl-en">:loops</span> <span class="pl-c1">0</span>)</pre></div>
<p>もし <code>c:play-music</code> が以前に呼ばれ、前の音楽がまだ再生されていた場合、それは停止され、最新の音楽が再生され始めます。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:volume-music</code>
</h5><a name="関数-cvolume-music" class="anchor" aria-label="Permalink: 関数 c:volume-music" href="#関数-cvolume-music"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><code>c:play-music</code> の音量を設定します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:volume-music <span class="pl-c1">128</span>)</pre></div>
<p>値は 0 （無音）から 128 の間でなければなりません。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:halt-music</code>
</h5><a name="関数-chalt-music" class="anchor" aria-label="Permalink: 関数 c:halt-music" href="#関数-chalt-music"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>音楽の再生を停止します。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:play-audio</code>
</h5><a name="関数-cplay-audio" class="anchor" aria-label="Permalink: 関数 c:play-audio" href="#関数-cplay-audio"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>音声ファイルを再生します。この機能は <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement" rel="nofollow">HTMLAudioElement</a> を利用するため、ウェブ上でのみ利用可能です。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:play-audio <span class="pl-s"><span class="pl-pds">"</span>assets/meow.ogg<span class="pl-pds">"</span></span> <span class="pl-en">:loop-audio-p</span> <span class="pl-c1">nil</span> <span class="pl-en">:volume</span> <span class="pl-c1">1</span>)</pre></div>
<p><code>:volume</code> は 0 から 1 の間でなければなりません。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:halt-audio</code>
</h5><a name="関数-chalt-audio" class="anchor" aria-label="Permalink: 関数 c:halt-audio" href="#関数-chalt-audio"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>特定のオーディオファイルまたはすべてのオーディオファイルの再生を停止します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-c1">c</span>:halt-audio <span class="pl-s"><span class="pl-pds">"</span>assets/purr.ogg<span class="pl-pds">"</span></span>)</pre></div>
<p>引数なしで呼び出すと、再生中のすべてのオーディオを停止します。</p>
<div class="markdown-heading"><h4 class="heading-element">内部の状態</h4><a name="内部の状態" class="anchor" aria-label="Permalink: 内部の状態" href="#内部の状態"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-mouse-x*</code>
</h5><a name="変数-calm-state-mouse-x" class="anchor" aria-label="Permalink: 変数 *calm-state-mouse-x*" href="#変数-calm-state-mouse-x"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-mouse-y*</code>
</h5><a name="変数-calm-state-mouse-y" class="anchor" aria-label="Permalink: 変数 *calm-state-mouse-y*" href="#変数-calm-state-mouse-y"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-mouse-up*</code>
</h5><a name="変数-calm-state-mouse-up" class="anchor" aria-label="Permalink: 変数 *calm-state-mouse-up*" href="#変数-calm-state-mouse-up"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-mouse-down*</code>
</h5><a name="変数-calm-state-mouse-down" class="anchor" aria-label="Permalink: 変数 *calm-state-mouse-down*" href="#変数-calm-state-mouse-down"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-mouse-just-clicked*</code>
</h5><a name="変数-calm-state-mouse-just-clicked" class="anchor" aria-label="Permalink: 変数 *calm-state-mouse-just-clicked*" href="#変数-calm-state-mouse-just-clicked"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-finger-x*</code>
</h5><a name="変数-calm-state-finger-x" class="anchor" aria-label="Permalink: 変数 *calm-state-finger-x*" href="#変数-calm-state-finger-x"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-finger-y*</code>
</h5><a name="変数-calm-state-finger-y" class="anchor" aria-label="Permalink: 変数 *calm-state-finger-y*" href="#変数-calm-state-finger-y"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-state-finger-just-tapped*</code>
</h5><a name="変数-calm-state-finger-just-tapped" class="anchor" aria-label="Permalink: 変数 *calm-state-finger-just-tapped*" href="#変数-calm-state-finger-just-tapped"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>上記の変数はマウスと指（モバイルウェブブラウザのようなタッチデバイス）の状態を保持し、読み取り専用です。<code>(setf *calm-state-mouse-x* 20)</code> の結果は漂白剤を飲むことと同じです。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:get-ticks</code>
</h5><a name="関数-cget-ticks" class="anchor" aria-label="Permalink: 関数 c:get-ticks" href="#関数-cget-ticks"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>これは単なる <a href="https://wiki.libsdl.org/SDL2/SDL_GetTicks" rel="nofollow">SDL_GetTicks</a> です。</p>
<div class="markdown-heading"><h4 class="heading-element">イベントのコールバック</h4><a name="イベントのコールバック" class="anchor" aria-label="Permalink: イベントのコールバック" href="#イベントのコールバック"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>これらのコールバックは、あなたが定義すべき関数です。定義しておけば、対応するイベントがトリガーされたときに呼び出されます。</p>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-keydown</code>
</h5><a name="コールバック-on-keydown" class="anchor" aria-label="Permalink: コールバック on-keydown" href="#コールバック-on-keydown"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-keyup</code>
</h5><a name="コールバック-on-keyup" class="anchor" aria-label="Permalink: コールバック on-keyup" href="#コールバック-on-keyup"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>あなたはこれらのコールバックが何をするのか知っているが、知らないのは、その本来あるべき引数でしょう。詳しい例については <code>c:keq</code> を確認して下さい。</p>
<div class="markdown-heading"><h5 class="heading-element">関数 <code>c:keq</code>
</h5><a name="関数-ckeq" class="anchor" aria-label="Permalink: 関数 c:keq" href="#関数-ckeq"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この関数は、最初の引数を無限の SDL2 スキャンコードと比較し、マッチするものがあれば <code>T</code> を返します。</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">on-keyup</span> (key) <span class="pl-c"><span class="pl-c">;</span>; 悪い vimer のためのキーアップハンドラー</span>
  (<span class="pl-k">cond</span>
    ((<span class="pl-c1">c</span>:keq key <span class="pl-en">:scancode-left</span> <span class="pl-en">:scancode-h</span>)
     (<span class="pl-c1">format</span> <span class="pl-c1">t</span> <span class="pl-s"><span class="pl-pds">"</span>move left<span class="pl-en">~%</span><span class="pl-pds">"</span></span>))
    ((<span class="pl-c1">c</span>:keq key <span class="pl-en">:scancode-right</span> <span class="pl-en">:scancode-l</span>)
     (<span class="pl-c1">format</span> <span class="pl-c1">t</span> <span class="pl-s"><span class="pl-pds">"</span>move right<span class="pl-en">~%</span><span class="pl-pds">"</span></span>))
    ((<span class="pl-c1">c</span>:keq key <span class="pl-en">:scancode-up</span> <span class="pl-en">:scancode-k</span>)
     (<span class="pl-c1">format</span> <span class="pl-c1">t</span> <span class="pl-s"><span class="pl-pds">"</span>move up<span class="pl-en">~%</span><span class="pl-pds">"</span></span>))
    ((<span class="pl-c1">c</span>:keq key <span class="pl-en">:scancode-down</span> <span class="pl-en">:scancode-j</span>)
     (<span class="pl-c1">format</span> <span class="pl-c1">t</span> <span class="pl-s"><span class="pl-pds">"</span>move down<span class="pl-en">~%</span><span class="pl-pds">"</span></span>))
    (<span class="pl-c1">t</span> (<span class="pl-c1">format</span> <span class="pl-c1">t</span> <span class="pl-s"><span class="pl-pds">"</span>I don't know what to do<span class="pl-en">~%</span><span class="pl-pds">"</span></span>))))</pre></div>
<p>SDL2 スキャンコード: <a href="https://wiki.libsdl.org/SDL2/SDL_Scancode" rel="nofollow">https://wiki.libsdl.org/SDL2/SDL_Scancode</a></p>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-mousewheel</code>
</h5><a name="コールバック-on-mousewheel" class="anchor" aria-label="Permalink: コールバック on-mousewheel" href="#コールバック-on-mousewheel"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">on-mousewheel</span> (x y direction)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )</pre></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-mousemotion</code>
</h5><a name="コールバック-on-mousemotion" class="anchor" aria-label="Permalink: コールバック on-mousemotion" href="#コールバック-on-mousemotion"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">internal-on-mousemotion</span> (<span class="pl-k">&amp;key</span> x y)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )</pre></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-mousebuttonup</code>
</h5><a name="コールバック-on-mousebuttonup" class="anchor" aria-label="Permalink: コールバック on-mousebuttonup" href="#コールバック-on-mousebuttonup"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-mousebuttondown</code>
</h5><a name="コールバック-on-mousebuttondown" class="anchor" aria-label="Permalink: コールバック on-mousebuttondown" href="#コールバック-on-mousebuttondown"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">on-mousebuttonup</span> (<span class="pl-k">&amp;key</span> button x y clicks)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )
(<span class="pl-k">defun</span> <span class="pl-en">on-mousebuttondown</span> (<span class="pl-k">&amp;key</span> button x y clicks)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )</pre></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-fingermotion</code>
</h5><a name="コールバック-on-fingermotion" class="anchor" aria-label="Permalink: コールバック on-fingermotion" href="#コールバック-on-fingermotion"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">on-fingermotion</span> (<span class="pl-k">&amp;key</span> x  y dx dy pressure finger-id)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )</pre></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-fingerup</code>
</h5><a name="コールバック-on-fingerup" class="anchor" aria-label="Permalink: コールバック on-fingerup" href="#コールバック-on-fingerup"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-fingerdown</code>
</h5><a name="コールバック-on-fingerdown" class="anchor" aria-label="Permalink: コールバック on-fingerdown" href="#コールバック-on-fingerdown"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">on-fingerup</span> (<span class="pl-k">&amp;key</span> x  y dx dy pressure finger-id)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )
(<span class="pl-k">defun</span> <span class="pl-en">on-fingerdown</span> (<span class="pl-k">&amp;key</span> x  y dx dy pressure finger-id)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )</pre></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-windowresized</code>
</h5><a name="コールバック-on-windowresized" class="anchor" aria-label="Permalink: コールバック on-windowresized" href="#コールバック-on-windowresized"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">on-windowresized</span> (width height)
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )</pre></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-windowenter</code>
</h5><a name="コールバック-on-windowenter" class="anchor" aria-label="Permalink: コールバック on-windowenter" href="#コールバック-on-windowenter"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">コールバック <code>on-windowleave</code>
</h5><a name="コールバック-on-windowleave" class="anchor" aria-label="Permalink: コールバック on-windowleave" href="#コールバック-on-windowleave"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>これら 2 つのコールバックは引数を取りません:</p>
<div class="highlight highlight-source-commonlisp"><pre>(<span class="pl-k">defun</span> <span class="pl-en">on-windowenter</span> ()
  <span class="pl-c"><span class="pl-c">;</span>; コードをここに</span>
  )</pre></div>
<div class="markdown-heading"><h4 class="heading-element">ウィンドウ関連</h4><a name="ウィンドウ関連" class="anchor" aria-label="Permalink: ウィンドウ関連" href="#ウィンドウ関連"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-window*</code>
</h5><a name="変数-calm-window" class="anchor" aria-label="Permalink: 変数 *calm-window*" href="#変数-calm-window"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>この変数は読み取り専用で、作成された <a href="https://wiki.libsdl.org/SDL2/SDL_Window" rel="nofollow">SDL_Window</a> のインスタンスを保持します。</p>
<p>この変数を使用すると、次のような SDL2 ウィンドウ関連のあらゆる関数を使用できます:</p>
<div class="highlight highlight-source-commonlisp"><pre><span class="pl-c"><span class="pl-c">;</span>; ウィンドウの位置を取得</span>
(<span class="pl-c1">sdl2</span>:get-window-position <span class="pl-sr">*calm-window*</span>)

<span class="pl-c"><span class="pl-c">;</span>; ウィンドウを常に上に表示</span>
(<span class="pl-c1">sdl2-ffi.functions</span>:sdl-set-window-always-on-top
 <span class="pl-sr">*calm-window*</span>
 <span class="pl-c1">sdl2-ffi</span>:<span class="pl-c1">+true+</span>)</pre></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-window-x*</code>
</h5><a name="変数-calm-window-x" class="anchor" aria-label="Permalink: 変数 *calm-window-x*" href="#変数-calm-window-x"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-window-y*</code>
</h5><a name="変数-calm-window-y" class="anchor" aria-label="Permalink: 変数 *calm-window-y*" href="#変数-calm-window-y"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>CALM アプリケーションのウィンドウの初期位置（x、y）。</p>
<p>デフォルト: <code>:centered</code></p>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-window-flags*</code>
</h5><a name="変数-calm-window-flags" class="anchor" aria-label="Permalink: 変数 *calm-window-flags*" href="#変数-calm-window-flags"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a href="https://wiki.libsdl.org/SDL2/SDL_WindowFlags" rel="nofollow">SDL_WindowFlags</a> のリスト。</p>
<p>この値は次のように設定できます: <code>(setf *calm-window-flags* '(:shown :allow-highdpi :resizable))</code></p>
<p>デフォルト: <code>'(:shown :allow-highdpi)</code></p>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-window-width*</code>
</h5><a name="変数-calm-window-width" class="anchor" aria-label="Permalink: 変数 *calm-window-width*" href="#変数-calm-window-width"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-window-height*</code>
</h5><a name="変数-calm-window-height" class="anchor" aria-label="Permalink: 変数 *calm-window-height*" href="#変数-calm-window-height"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h5 class="heading-element">変数 <code>*calm-window-title*</code>
</h5><a name="変数-calm-window-title" class="anchor" aria-label="Permalink: 変数 *calm-window-title*" href="#変数-calm-window-title"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>あなたはこれらの変数が何をするか知っているはずです。</p>
<p>そうでないなら、<a href="https://github.com/sponsors/VitoVan/">5 ドルを私に渡して</a>、そしてもっとよく考えて下さい。</p>
<div class="markdown-heading"><h2 class="heading-element">チュートリアル</h2><a name="チュートリアル" class="anchor" aria-label="Permalink: チュートリアル" href="#チュートリアル"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>OKOK、これを書くよ、これを書くよ、ちょっと待ってて。</p>
<p>待っている間、以下の便利なリンクをチェックできますよ:</p>
<ul>
<li>
<p>SDL2</p>
<ul>
<li><a href="https://wiki.libsdl.org/SDL2" rel="nofollow">https://wiki.libsdl.org/SDL2</a></li>
<li><a href="https://github.com/lispgames/cl-sdl2">https://github.com/lispgames/cl-sdl2</a></li>
</ul>
</li>
<li>
<p>Cairo</p>
<ul>
<li>
<p><a href="https://www.cairographics.org/" rel="nofollow">https://www.cairographics.org/</a></p>
</li>
<li>
<p><a href="https://github.com/rpav/cl-cairo2">https://github.com/rpav/cl-cairo2</a></p>
</li>
</ul>
</li>
<li>
<p>開発ツール</p>
<ul>
<li><a href="https://slime.common-lisp.dev/" rel="nofollow">https://slime.common-lisp.dev/</a></li>
<li><a href="https://lispcookbook.github.io/cl-cookbook/vscode-alive.html" rel="nofollow">https://lispcookbook.github.io/cl-cookbook/vscode-alive.html</a></li>
</ul>
</li>
<li>
<p>Common Lisp</p>
<ul>
<li><a href="https://lispcookbook.github.io/cl-cookbook/" rel="nofollow">https://lispcookbook.github.io/cl-cookbook/</a></li>
<li><a href="http://www.lispworks.com/documentation/HyperSpec/Front/" rel="nofollow">http://www.lispworks.com/documentation/HyperSpec/Front/</a></li>
<li><a href="https://lisp-lang.org/books/" rel="nofollow">https://lisp-lang.org/books/</a></li>
</ul>
</li>
</ul>
<div class="markdown-heading"><h2 class="heading-element">ライセンス</h2><a name="ライセンス" class="anchor" aria-label="Permalink: ライセンス" href="#ライセンス"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p><a href="https://github.com/VitoVan/calm">ソースコード</a>は GPL-2.0-only でリリースされています。</p>
</div>
        </div>
    </body>
</html>
